<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
 <script src="./city_data.js" type="text/javascript"></script>
 <script src="./zip_code_data.js" type="text/javascript"></script>
 <script src="./test.js" type="text/javascript"></script>
 

<script type="text/javascript">


	let data =[
			   {
			    "今天": [
			      {
			        "19点": [
			          1,
			          2,
			          3,
			          4,
			          5,
			          6,
			          7
			        ]
			      }
			    ]
			  },

			  {
			    "明天": [
			      {
			        "19点": [
			          1,
			          2,
			          3,
			          4,
			          5,
			          6,
			          7
			        ]
			      }
			    ]
			  }
			  ]


					  
	function time() {

			let data = []

			var date = new Date()

		  	let day = date.getDate() //今天几号

		  	let preHours = {} //每一个小时

		  	let minutes = []

			  let getHours = date.getHours() //现在几点

			  //获取60分钟
			  for (let m = 0; m < 60; m++) {
			    let minutesName = m + '分'
			    minutes.push(minutesName)

			  }

			  for (let i = day; i < day + 2; i++) {
			    let hours = [] //今天剩下的小时组合

			    if (i == day) {
			      let days = {}
			      
			      if (getHours > 18) {
			        data = []
			      } else {
			        if (getHours < 9) {
			        	
			          for (let h = 9; h < 20; h++) {
			            if (h < 19) {
			              let hoursObject = {}
			              let hoursName = h + '时'
			              hoursObject[hoursName] = minutes
			              hours.push(hoursObject)
			            } else if (h == 19) {
			            	let hoursName = h + '时'
			              hoursObject[hoursName] = '00分'
			              hours.push(hoursObject)
			            }
			          }
			        } else if (getHours >= 9) {
			          for (let h = getHours + 1; h < 20; h++) {
			            if (h < 19) {
			              let hoursObject = {}
			              let hoursName = h + '时'
			              hoursObject[hoursName] = minutes
			              hours.push(hoursObject)
			            } else if (h == 19) {
			              let hoursObject = {}
			              let hoursName = h + '时'
			              hoursObject[hoursName] = '00分'
			              hours.push(hoursObject)
			            }
			          }
			        }

			        let dayName = i + '日'

			        days[dayName] = hours

			        data.push(days)

			        hours = []
			      }
			    }
			    if (i == day + 1) {
			      let days = {}
			      
			      for (let h = 9; h < 20; h++) {
			        if (h < 19) {
			          let hoursObject = {}
			          let hoursName = h + '时'
			              hoursObject[hoursName] = minutes
			              hours.push(hoursObject)
			        } else if (h == 19) {
			          let hoursObject = {}
			          let hoursName = h + '时'
			              hoursObject[hoursName] = '00分'
			              hours.push(hoursObject)
			        }
			      }

			      let dayName = i + '日'

			      days[dayName] = hours

			      data.push(days)
			    }
			  }

			document.write(JSON.stringify(data))

	}

	time()
	
</script>
</head>
<body>
	<select name="select" id='select'>
  <option value="value1">Value 1</option> 
  <option value="value2" selected>Value 2</option>
  <option value="value3">Value 3</option>

  <script type="text/javascript">
  	var select = document.getElementById('select')
	var option = select.getElementsByTagName('option')
	console.log(JSON.stringify(option))
	for (var i = option.length - 1; i >= 0; i--) {
		option[i].click(function(value){
			console.log(i)
		})
	}
  </script>
</select>
</body>
</html>
